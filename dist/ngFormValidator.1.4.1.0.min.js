"use strict";!function(){var a=angular.module("ngFormValidator",[]);a.directive("validator",function(){function a(a,b){return a.toLowerCase()===b.toLowerCase()||a.toLowerCase()===b.split("-").join("").toLowerCase()}function b(b,c){if(!b)return null;for(var d in b)if(a(d,c))return b[d];return null}function c(b,c){var d=b.attributes;if(!d)return null;for(var e=0;e<d.length;e++){var f=d[e];if(f.name&&a(f.name,c))return d[f.name];if(f.id&&a(f.id,c))return d[f.id]}return null}function d(a,d,e){var f=b(d,"v-input"),g=null;for(var h in e)if(f)f===h&&(g=e[h]);else for(var i=angular.element(a).contents(),j=0;j<i.length;j++){var k=i[j],l=c(k,"name");l&&h===l.nodeValue&&(g=e[h])}return g}function e(a,c,d,e,f,g){var h=b(f,a);if(!h&&d.validator){var i=b(d.validator,e.$name);i&&(h=b(i,c)),h||(h=b(d.validator,c))}return h||(h=g),h}function f(a,b,c){return{successStyle:e("v-style-success","successStyle",a,b,c,"has-success has-feedback"),errorStyle:e("v-style-error","errorStyle",a,b,c,"has-error has-feedback"),errorMessageStyle:e("v-style-error-message","errorMessageStyle",a,b,c,"bg-danger")}}function g(a){for(var b=[],c=/([^\[\],]*)(\[([^\[\]]*\])|\[([\'\"](.)*[\'\"])*\])?([,]?)/g,d=c.exec(a);null!==d&&d[0];){var e={type:d[1].toLowerCase(),params:[]};if(d[2])for(var f=d[2].replace("[","").replace("]","").split(","),g=0;g<f.length;g++){var h=f[g].trim();h&&e.params.push({name:h,value:null})}b.push(e),d=c.exec(a)}return b}function h(a,b,c){for(var d=g(c),e=0;e<d.length;e++)for(var f=d[e],h=0;h<f.params.length;h++){var i=f.params[h];"'"!==i.name.charAt(0)&&'"'!==i.name.charAt(0)&&a.$watch(i.name,function(a,c){a!==c&&b.$validate()})}}function i(a,b){for(var c=g(b),d=0;d<c.length;d++){for(var e=c[d],f=0;f<e.params.length;f++){var h=e.params[f];"'"!==h.name.charAt(0)&&'"'!==h.name.charAt(0)?h.value=a.$eval(h.name):h.value=h.name.replace(/\"/g,"").replace(/\'/g,"")}e.params.length>0&&"boolean"==typeof e.params[0].value?(e.enabled=e.params[0].value,e.params.splice(0,1)):e.enabled=!0}return c}function j(a,b){var c=1===b.length?b[0].value:"This field is required";return a?{valid:!0,message:""}:{valid:!1,message:c}}function k(a,b){if(!b)return{valid:!0,message:""};a||(a="");var c=parseInt(b[0].value),d=b.length>0?parseInt(b[1].value):INT.MAX_VALUE,e=(isNaN(c)||!isNaN(c)&&a.length>=c)&&(isNaN(d)||!isNaN(d)&&a.length<=d),f=b.length>2&&!e?b[2].value:"";return f||e||(f="This field should be ",isNaN(c)||(f+=" minimum length of "+c,isNaN(d)||(f+=" and ")),isNaN(d)||(f+=" maximum length of "+d)),{valid:e,message:f}}function l(a,b){if(!b)return{valid:!0,message:""};a||(a="");var c=parseInt(b[0].value),d=b.length>0?parseInt(b[1].value):INT.MAX_VALUE,e=Number(a),f=!isNaN(e)&&(isNaN(c)||!isNaN(c)&&e>=c)&&(isNaN(d)||!isNaN(d)&&d>=e),g=b.length>2&&!f?b[2].value:"";return g||f||(g="This field should be a number with ",isNaN(c)||(g+=" minimum of "+c,isNaN(d)||(g+=" and ")),isNaN(d)||(g+=" maximum of "+d)),{valid:f,message:g}}function m(a,b){if(!b)return{valid:!0,message:""};a||(a="");var c=new RegExp(b[0].value,"gi"),d=c.test(a),e=b.length>1&&!d?b[1].value:"";return e||d||(e="This field should be a of pattern "+b[0].value),{valid:d,message:e}}function n(a,b){a||(a="");var c=b.length>0?b[0].value:"Please enter an email address";return m(a,[{value:'^(([^<>()[\\]\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\"]+)*)|(\\".+\\"))@(([^<>()[\\]\\.,;:\\s@\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\"]{2,})$'},{value:c}])}function o(a,b){a||(a="");var c=b.length>0?b[0].value:"Please enter a URL";return m(a,[{value:"(http|ftp|https)://[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&amp;:/~+#-]*[\\w@?^=%&amp;/~+#-])?"},{value:c}])}function p(a,b){if(a.classList)for(var c=b.split(" "),d=0;d<c.length;d++){var e=c[d];a.classList.contains(e)&&a.classList.remove(e)}}function q(a,b){a.classList||(a.classList={});for(var c=b.split(" "),d=0;d<c.length;d++){var e=c[d];a.classList.contains(e)||a.classList.add(e)}}function r(a,b,c){p(a,b.successStyle),p(a,b.errorStyle),c.validationCount>0&&q(a,c.valid?b.successStyle:b.errorStyle)}function s(a,b,c,d){if(a.$validationErrorElement&&(b.removeChild(a.$validationErrorElement),a.$validationErrorElement=null),!d.valid){var e=document.createElement("p");q(e,c.errorMessageStyle),e.innerHTML=d.message,a.$validationErrorElement=e,b.appendChild(e)}}return{require:["^form"],link:function(a,c,e,g){if(0!==g.length&&0!==c.length){c=c[0],g=g[0];var p=f(a,g,e),q=b(e,"validator");q=q?q:"";var t=d(c,e,g);h(a,t,q),t.$validators.validator=function(b,d){for(var e=b||d,f=i(a,q),g={validationCount:0,valid:!0,message:""},h=0;h<f.length;h++){var u=f[h];if(u.enabled){var v=null;switch(u.type){case"required":v=j(e,u.params);break;case"string":v=k(e,u.params);break;case"number":v=l(e,u.params);break;case"regex":v=m(e,u.params);break;case"email":v=n(e,u.params);break;case"url":v=o(e,u.params)}v&&(g.validationCount+=1,g.valid=g.valid&v.valid,g.message+=g.message?"<br/>":"",g.message+=v.message)}}return t.$dirty&&(r(c,p,g),s(t,c,p,g)),g.valid?!0:!1}}}}})}();